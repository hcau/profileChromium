ˇˇo"key"ù00D20000000m0ae0DB2L000000Gnag0052L000003oi7nen_US67a14052-0bcf-4c97-b3c1-a0c4d8ffc444BLM16258466870000000000000053.0:markup://forceSearch:inputLookupDesktop"itemo"value"Ê˛{"xs":"PP","descriptor":"markup://forceSearch:inputLookupDesktop","st":{"descriptor":"css://forceSearch.inputLookupDesktop","co":".forceSearchInputLookupDesktop.has-error .contentWrapper{border-color:var(--lwc-colorBorderError,rgb(234, 0, 30));box-shadow:var(--lwc-colorBorderError,rgb(234, 0, 30)) 0 0 0 var(--lwc-borderWidthThin,1px) inset;background-clip:padding-box}.forceSearchInputLookupDesktop.has-error .contentWrapper:focus,.forceSearchInputLookupDesktop.has-error .contentWrapper:active{box-shadow:var(--lwc-colorBorderError,rgb(234, 0, 30)) 0 0 0 var(--lwc-borderWidthThin,1px) inset,var(--lwc-shadowButtonFocus,0 0 3px #0176d3)}.forceSearchInputLookupDesktop .contentWrapper.focused{border:solid var(--lwc-borderWidthThin,1px) var(--lwc-colorBorderInputActive,rgb(27, 150, 255));border-radius:var(--lwc-borderRadiusMedium,0.25rem);box-shadow:var(--lwc-shadowButtonFocus,0 0 3px #0176d3)}.forceSearchInputLookupDesktop .inputWrapper.disabled{background-color:var(--lwc-colorBackgroundInputDisabled,rgb(233, 234, 236));pointer-events:none;opacity:var(--lwc-opacity5,0.5)}.forceSearchInputLookupDesktop .autocompleteWrapper{overflow:hidden}.forceSearchInputLookupDesktop.uiInput .uiInputTextForAutocomplete,.forceSearchInputLookupDesktop.uiInput .uiInputTextForAutocomplete:focus{border:none;box-shadow:none;background:transparent}.forceSearchInputLookupDesktop .uiInput--lookup.lookup__menu,.forceSearchInputLookupDesktop .uiInput--lookup .lookup__menu{padding:var(--lwc-spacingXSmall,0.5rem) 0;margin-top:.07rem;z-index:var(--lwc-zIndexDropdown,7000)}.forceSearchInputLookupDesktop .uiPillContainer .pillContainerListItem{margin:var(--lwc-spacingXxSmall,0.25rem)}.forceSearchInputLookupDesktop .singlePill .uiPillContainer .pillContainerListItem{float:none}.forceSearchInputLookupDesktop .uiPillContainer .pillContainerListItem a:focus{outline:0;border-color:var(--lwc-colorBorderInputActive,rgb(27, 150, 255));background-color:var(--lwc-buttonColorBackgroundPrimary,rgb(255, 255, 255));box-shadow:var(--lwc-shadowButtonFocus,0 0 3px #0176d3)}.forceSearchInputLookupDesktop .singlePill .pillText{max-width:none;width:calc(100% - 55px)}.forceSearchInputLookupDesktop .singlePill .deleteIcon{padding-right:var(--lwc-spacingXxSmall,0.25rem)}.forceSearchInputLookupDesktop .pillContainerWrapper{clear:both;border-top:var(--lwc-borderWidthThin,1px) solid var(--lwc-colorBorder,#D4D4D4)}.forceSearchInputLookupDesktop .pillContainerWrapper.noSeparator{border-top:none}.forceSearchInputLookupDesktop .uiPillContainer--default,.forceSearchInputLookupDesktop .uiPillContainer--default.noinput{padding:0;border:none}.forceSearchInputLookupDesktop .uiPillContainer input{width:auto}.forceSearchInputLookupDesktop .uiPillContainer--default input.uiInput,.forceSearchInputLookupDesktop .uiPillContainer--default input.uiInput:focus{padding:inherit;height:auto;line-height:var(--lwc-lineHeightText,1.5);border:none}.forceSearchInputLookupDesktop .uiPillContainer--default a:focus{text-decoration:none}.forceSearchInputLookupDesktop .uiPillContainer.focused ul{overflow-y:hidden}.forceSearchInputLookupDesktop .uiPillContainer.focused .showMore.invisible+ul{overflow-y:auto}.forceSearchInputLookupDesktop .uiPillContainer.focused .showMore{display:block}.forceSearchInputLookupDesktop .uiPillContainer.focused .showMore.invisible{display:none}.forceSearchInputLookupDesktop .pillText{color:var(--lwc-colorTextDefault,rgb(38, 38, 38))}.forceSearchInputLookupDesktop .lookup__list.visible{overflow:hidden;max-height:none}.forceSearchInputLookupDesktop .inputLookupIcon svg{fill:var(--lwc-colorTextInputIcon,rgb(171, 173, 176))}.forceSearchInputLookupDesktop input::-ms-clear{display:none;width:0;height:0}","cl":"forceSearchInputLookupDesktop"},"cd":{"descriptor":"compound://forceSearch.inputLookupDesktop","ac":[{"n":"createFromLookup","descriptor":"serviceComponent://ui.search.components.forcesearch.inputlookupdesktop.InputLookupDesktopController/ACTION$createFromLookup","at":"SERVER","rt":"java://ui.search.components.forcesearch.inputlookupdesktop.InputLookupDesktopController$CreateFromLookupActionDetails","pa":[{"name":"entityApiName","type":"java://java.lang.String"},{"name":"globalId","type":"java://java.lang.String"}]},{"n":"getRecordInfo","descriptor":"serviceComponent://ui.search.components.forcesearch.inputlookupdesktop.InputLookupDesktopController/ACTION$getRecordInfo","at":"SERVER","rt":"java://java.util.Map","pa":[{"name":"recordIds","type":"java://java.util.List<java.lang.String>"},{"name":"entityApiNames","type":"java://java.util.List<java.lang.String>"}]}]},"su":"markup://ui:input","ad":[["body","aura://Aura.Component[]","G",false,[]],["class","aura://String","G",false],["dir","aura://String","I",false,"ltr"],["namespaceOverride","aura://String","I",false],["actionable","aura://Boolean","I",false,true],["role","aura://String","I",false],["ariaDescribedBy","aura://String","PP",false,""],["value","aura://String","G",false],["visible","aura://Boolean","I",false,true],["disableDoubleClicks","aura://Boolean","I",false,false],["showErrors","aura://Boolean","PP",false,true],["errors","aura://Object[]","G",false,[]],["errorComponent","aura://Aura.Component[]","I",false,[]],["fieldHelpComponent","aura://Aura.Component[]","I",false,[]],["type","aura://String","PP",false],["isCompound","aura://Boolean","I",false,false],["required","aura://Boolean","G",false,false],["updateOn","aura://String","G",false,"change"],["updateOnDisabled","aura://Boolean","I",false,false],["label","aura://String","G",false],["labelClass","aura://String","G",false,""],["labelPosition","aura://String","PP",false,"left"],["labelTitle","aura://String","I",false],["useSpanLabel","aura://Boolean","I",false,false],["requiredIndicatorClass","aura://String","G",false,""],["disabled","aura://Boolean","G",false,false],["domId","aura://String","PP",false],["requiredIndicator","aura://Aura.Component[]","I",false,[{"componentDef":{"descriptor":"markup://aura:html"},"attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":{"exprType":"FUNCTION","code":"function(cmp,fn){return fn.add(\"required \",cmp.get(\"v.requiredIndicatorClass\"));}","args":[{"exprType":"PROPERTY","byValue":false,"target":"ui:input","path":"v.requiredIndicatorClass"}],"byValue":false},"title":{"exprType":"PROPERTY","byValue":false,"target":"ui:input","path":"$Label.LightningControl.required"}}},"tag":{"descriptor":"tag","value":"span"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:text"},"attributes":{"values":{"value":{"descriptor":"value","value":"*"}}}}]}}}}]],["record","apex://SObject","I",false,null],["recordLabel","aura://String","I",false],["maxOptions","aura://Integer","PP",true,5],["maxResults","aura://Integer","PP",true,25],["dataProvider","aura://Aura.Component[]","I",false,[]],["matchOnContains","aura://Boolean","PP",true,false],["maxValues","aura://Integer","I",false,1],["maxRows","aura://Integer","I",false,0],["selectedEntityIndex","aura://Integer","I",false,-1],["values","aura://List","I",false,[]],["readOnly","aura://Boolean","I",false,false],["loggingLocation","aura://String","I",false,"force:edit"],["loggingActionLocation","aura://String","I",false,"force:center"],["labelCreateNew","aura://String","PP",false,""],["labelInvalidOption","aura://String","I",false,{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"$Label.LightningSearchUI.LookupEditInvalidOptionMessage"}],["inContextOfComponent","aura://String","I",false,""],["displayErrorOnBlur","aura://Boolean","I",false,true],["initialText","aura://String","I",false,""],["allowOtherOption","aura://Boolean","I",false,false],["dataProviderProvidesIds","aura://Boolean","I",false,true],["defaultFieldValues","aura://Map","I",false,{}],["matchOptionFunc","aura://Aura.Component[]","I",false,[]],["additionalContext","aura://Map","PP",false,null],["enableAdvancedSearch","aura://Boolean","I",false,true],["enableCreateNew","aura://Boolean","I",false,true],["dependentFieldBindings","aura://Map","I",false,{}],["usePanel","aura://Boolean","I",false,false],["clearInputOnPillAdd","aura://Boolean","I",false,true],["maxlength","aura://Integer","I",false,500],["allowFallbackQueryWithNoContext","aura://Boolean","I",false,true],["listOption","aura://Aura.ComponentDefRef[]","I",true,[{"componentDef":{"descriptor":"markup://forceSearch:inputLookupDesktopOption"},"localId":"lookupOption","attributes":{"values":{"label":{"descriptor":"label","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"row.label"}},"visIndex":{"descriptor":"visIndex","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"row.visIndex"}},"matchOnContains":{"descriptor":"matchOnContains","value":{"exprType":"PROPERTY","byValue":true,"target":"forceSearch:inputLookupDesktop","path":"v.matchOnContains"}},"keyword":{"descriptor":"keyword","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"row.keyword"}},"absIndex":{"descriptor":"absIndex","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"row.absIndex"}},"allFields":{"descriptor":"allFields","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"row.allFields"}},"value":{"descriptor":"value","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"row.value"}},"qType":{"descriptor":"qType","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"row.qType"}},"icon":{"descriptor":"icon","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"row.icon"}},"iconColor":{"descriptor":"iconColor","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"row.iconColor"}},"visible":{"descriptor":"visible","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"row.visible"}},"iconLabel":{"descriptor":"iconLabel","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"row.iconLabel"}},"secondLabel":{"descriptor":"secondLabel","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"row.secondLabel"}}}}}]],["entityIsDirty","aura://Boolean","I",false,true],["priv_events","aura://Object","I",false,null],["priv_currentEntity","aura://Map","I",false,{}],["priv_showEntitySelector","aura://Boolean","I",false,false],["priv_resolveValuesOnChange","aura://Boolean","I",false,true],["priv_resolveId","aura://Integer","I",false,0],["priv_maxCharactersForSinglePill","aura://Integer","I",false,40],["priv_maxCharactersForMultiplePills","aura://Integer","I",false,30],["priv_inputIsDirty","aura://Boolean","I",false,false],["priv_isBlurred","aura://Boolean","I",false,false],["priv_valueCopy","aura://String","I",false,""],["priv_showSearchListItem","aura://Boolean","I",false,false],["priv_searchLabel","aura://String","I",false,""],["priv_noAccessLabel","aura://String","I",false,{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"$Label.Lookup.noAccess"}],["priv_showNewButton","aura://Boolean","PP",false,false],["priv_createNewEvent","aura://Aura.Component","I",false,null],["priv_focusOnInput","aura://Boolean","I",false,false],["priv_focusOnPillContainer","aura://Boolean","I",false,false],["priv_openPopupOnFocus","aura://Boolean","I",false,true],["priv_isInputDisabled","aura://Boolean","I",false,false],["priv_displayedPlaceholder","aura://String","I",false],["priv_displayedTooltip","aura://String","I",false],["priv_visibleMRUCount","aura://Integer","I",false,0],["priv_visibleTypeaheadCount","aura://Integer","I",false,0],["priv_reloadEntityOnRender","aura://Boolean","I",false,false],["priv_inputHasFocus","aura://Boolean","I",false,false],["priv_hasOpenedPanel","aura://Boolean","I",false,false],["priv_inputBlurTimeoutId","aura://Integer","I",false],["priv_previousSelections","aura://List","I",false,[]],["priv_labelCreateNew","aura://String","p",false,""],["selectedLabel","aura://String","PP",false],["selectedSObjectType","aura://String","I",false],["source","aura://String","PP",false],["field","aura://String","PP",false],["fieldLabel","aura://String","PP",false],["entities","aura://List","PP",false,[]],["recordId","aura://String","I",false],["contextId","aura://String","I",false],["placeholder","aura://String","I",false],["createableEntities","aura://List","PP",false,[]],["dependentFields","aura://List","I",false,[]],["relationshipName","aura://String","I",false],["foreignKeyNameField","aura://String","I",false,"Name"]],"med":[{"name":"ui:focus","xs":"I"},{"name":"force:updateValues","xs":"I","action":"{!c.updateValues}","attributes":[["values","aura://List","I",true,[]]]},{"name":"forceSearch:setEntityState","xs":"I","action":"{!c.setEntityStateHandler}","attributes":[["entities","aura://List","I",false,"[]"],["selectedEntityIndex","aura://Integer","I",false,"-1"],["entityMenuItemStates","aura://Map","I",false,null]]},{"name":"forceSearch:appendItems","xs":"I","action":"{!c.appendItems}","attributes":[["items","aura://List","I",false,[]]]},{"name":"forceSearch:setFocus","xs":"I","action":"{!c.setFocus}"},{"name":"forceSearch:resetInput","xs":"I","action":"{!c.resetInput}"},{"name":"forceSearch:handlePanelDestroyed","xs":"I","action":"{!c.handlePanelDestroyed}"}],"i":["markup://force:hasInputLookup","markup://force:hasInnerPanel","markup://force:hasRecord"],"re":[{"ed":"markup://ui:blur","n":"blur","xs":"I"},{"ed":"markup://ui:focus","n":"focus","xs":"I"},{"ed":"markup://ui:keydown","n":"keydown","xs":"G"},{"ed":"markup://ui:keypress","n":"keypress","xs":"G"},{"ed":"markup://ui:keyup","n":"keyup","xs":"G"},{"ed":"markup://ui:select","n":"select","xs":"G"},{"ed":"markup://ui:click","n":"click","xs":"G"},{"ed":"markup://ui:dblclick","n":"dblclick","xs":"G"},{"ed":"markup://ui:mousedown","n":"mousedown","xs":"G"},{"ed":"markup://ui:mousemove","n":"mousemove","xs":"G"},{"ed":"markup://ui:mouseout","n":"mouseout","xs":"G"},{"ed":"markup://ui:mouseover","n":"mouseover","xs":"G"},{"ed":"markup://ui:mouseup","n":"mouseup","xs":"G"},{"ed":"markup://ui:inputEvent","n":"input","xs":"I"},{"ed":"markup://ui:cut","n":"cut","xs":"G"},{"ed":"markup://ui:validationError","n":"onError","xs":"G"},{"ed":"markup://ui:clearErrors","n":"onClearErrors","xs":"G"},{"ed":"markup://ui:change","n":"change","xs":"G"},{"ed":"markup://ui:copy","n":"copy","xs":"G"},{"ed":"markup://ui:paste","n":"paste","xs":"G"},{"ed":"markup://ui:updateError","n":"updateError","xs":"I"},{"ed":"markup://ui:change","n":"valueRemoved","xs":"I"},{"ed":"markup://ui:inputChange","n":"enterPressed","xs":"I"},{"ed":"markup://ui:change","n":"valueAdded","xs":"I"},{"ed":"markup://force:createRecordWithRecordTypeCheck","n":"createRecord","xs":"I"},{"ed":"markup://ui:refresh","n":"searchRefresh","xs":"I"},{"ed":"markup://ui:change","n":"entityChanged","xs":"I"}],"hd":[{"x":{"exprType":"PROPERTY","byValue":false,"path":"c.init"},"v":{"exprType":"PROPERTY","byValue":false,"path":"this"},"n":"init"},{"x":{"exprType":"PROPERTY","byValue":false,"path":"c.destroy"},"v":{"exprType":"PROPERTY","byValue":false,"path":"this"},"n":"destroy"},{"x":{"exprType":"PROPERTY","byValue":false,"path":"c.valuesChangeHandler"},"v":{"exprType":"PROPERTY","byValue":false,"path":"v.values"},"n":"change"},{"x":{"exprType":"PROPERTY","byValue":false,"path":"c.inputIsDirtyChangeHandler"},"v":{"exprType":"PROPERTY","byValue":false,"path":"v.priv_inputIsDirty"},"n":"change"},{"x":{"exprType":"PROPERTY","byValue":false,"path":"c.errorsChangeHandler"},"v":{"exprType":"PROPERTY","byValue":false,"path":"v.errors"},"n":"change"},{"x":{"exprType":"PROPERTY","byValue":false,"path":"c.maxValuesChangeHandler"},"v":{"exprType":"PROPERTY","byValue":false,"path":"v.maxValues"},"n":"change"},{"ed":{"descriptor":"markup://force:recordCreatedFromLookup"},"x":{"exprType":"PROPERTY","byValue":false,"path":"c.recordCreatedHandler"}}],"fa":[{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:html"},"attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.class"}}},"tag":{"descriptor":"tag","value":"div"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:html"},"localId":"contentWrapper","attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"contentWrapper slds-box--border"}},"tag":{"descriptor":"tag","value":"div"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:html"},"localId":"inputWrapper","attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"inputWrapper slds-grid slds-grid_vertical-align-center slds-p-right_x-small"}},"tag":{"descriptor":"tag","value":"div"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://ui:resizeObserver"},"attributes":{"values":{"onresize":{"descriptor":"onresize","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.resize"}}}}},{"componentDef":{"descriptor":"markup://forceSearch:entitySelectorMenu"},"localId":"entitySelector","attributes":{"values":{"entitySelected":{"descriptor":"entitySelected","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.entitySelected"}},"loggingLocation":{"descriptor":"loggingLocation","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.loggingLocation"}},"entityMenuCollapse":{"descriptor":"entityMenuCollapse","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.entityMenuCollapse"}},"entityMenuBlur":{"descriptor":"entityMenuBlur","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.entityMenuBlur"}},"selectedEntityIndex":{"descriptor":"selectedEntityIndex","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.selectedEntityIndex"}},"fieldLabel":{"descriptor":"fieldLabel","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.label"}},"entities":{"descriptor":"entities","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.entities"}},"entityMenuPressed":{"descriptor":"entityMenuPressed","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.updateInvalidSelectionError"}},"entitiesUnavailable":{"descriptor":"entitiesUnavailable","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.entitiesUnavailable"}},"loggingActionLocation":{"descriptor":"loggingActionLocation","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.loggingActionLocation"}},"visible":{"descriptor":"visible","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_showEntitySelector"}},"entityMenuClick":{"descriptor":"entityMenuClick","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.entityMenuFocus"}},"entitiesAvailable":{"descriptor":"entitiesAvailable","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.entitiesAvailable"}}}}},{"componentDef":{"descriptor":"markup://aura:html"},"localId":"autocompleteWrapper","attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"autocompleteWrapper slds-grow"}},"tag":{"descriptor":"tag","value":"div"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:if"},"attributes":{"values":{"isTrue":{"descriptor":"isTrue","value":{"exprType":"FUNCTION","code":"function(cmp,fn){return (fn.ne(cmp.get(\"v.dataProvider\"),null)&&fn.ne(cmp.get(\"v.dataProvider.length\"),0));}","args":[{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.dataProvider"},{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.dataProvider.length"}],"byValue":false}},"else":{"descriptor":"else","value":[{"componentDef":{"descriptor":"markup://ui:autocomplete"},"localId":"autocomplete","attributes":{"values":{"inputTitle":{"descriptor":"inputTitle","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_displayedTooltip"}},"dataProvider":{"descriptor":"dataProvider","value":[{"componentDef":{"descriptor":"markup://forceSearch:inputLookupDesktopDataProvider"},"localId":"provider","attributes":{"values":{"loggingLocation":{"descriptor":"loggingLocation","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.loggingLocation"}},"allowFallbackQueryWithNoContext":{"descriptor":"allowFallbackQueryWithNoContext","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.allowFallbackQueryWithNoContext"}},"recordId":{"descriptor":"recordId","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.recordId"}},"parentId":{"descriptor":"parentId","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.contextId"}},"field":{"descriptor":"field","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.field"}},"additionalContext":{"descriptor":"additionalContext","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.additionalContext"}},"maxMRUResults":{"descriptor":"maxMRUResults","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.maxResults"}},"maxTypeaheadResults":{"descriptor":"maxTypeaheadResults","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.maxOptions"}},"recordType":{"descriptor":"recordType","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.source"}},"dependentFieldBindings":{"descriptor":"dependentFieldBindings","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.dependentFieldBindings"}}}}}]},"maxlength":{"descriptor":"maxlength","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.maxlength"}},"keydown":{"descriptor":"keydown","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.keydown"}},"showListHeader":{"descriptor":"showListHeader","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_showSearchListItem"}},"matchFunc":{"descriptor":"matchFunc","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.matchFunc"}},"inputChange":{"descriptor":"inputChange","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.inputChange"}},"setDefaultHighlight":{"descriptor":"setDefaultHighlight","value":false},"blur":{"descriptor":"blur","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.inputBlur"}},"ariaDescribedBy":{"descriptor":"ariaDescribedBy","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.ariaDescribedBy"}},"optionVar":{"descriptor":"optionVar","value":"row"},"keypress":{"descriptor":"keypress","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.keypress"}},"placeholder":{"descriptor":"placeholder","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_displayedPlaceholder"}},"required":{"descriptor":"required","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.required"}},"requiredIndicatorClass":{"descriptor":"requiredIndicatorClass","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.requiredIndicatorClass"}},"emptyListContent":{"descriptor":"emptyListContent","value":[{"componentDef":{"descriptor":"markup://aura:html"},"attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"slds-hide"}},"tag":{"descriptor":"tag","value":"div"}}}}]},"selectListOption":{"descriptor":"selectListOption","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.selectListOption"}},"usePanel":{"descriptor":"usePanel","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.usePanel"}},"disabled":{"descriptor":"disabled","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.disabled"}},"click":{"descriptor":"click","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.inputClick"}},"listOption":{"descriptor":"listOption","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.listOption"}},"listHeader":{"descriptor":"listHeader","value":[{"componentDef":{"descriptor":"markup://forceSearch:inputLookupDesktopActionItem"},"attributes":{"values":{"class":{"descriptor":"class","value":"searchButton"},"itemLabel":{"descriptor":"itemLabel","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_searchLabel"}},"titleLabel":{"descriptor":"titleLabel","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_searchLabel"}},"iconAlt":{"descriptor":"iconAlt","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_displayedTooltip"}},"iconKey":{"descriptor":"iconKey","value":"search"}}}}]},"selectOnTab":{"descriptor":"selectOnTab","value":false},"focus":{"descriptor":"focus","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.inputFocus"}},"showListFooter":{"descriptor":"showListFooter","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_showNewButton"}},"listFooter":{"descriptor":"listFooter","value":[{"componentDef":{"descriptor":"markup://forceSearch:inputLookupDesktopActionItem"},"attributes":{"values":{"class":{"descriptor":"class","value":"createNew"},"itemLabel":{"descriptor":"itemLabel","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_labelCreateNew"}},"titleLabel":{"descriptor":"titleLabel","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_labelCreateNew"}},"iconKey":{"descriptor":"iconKey","value":"add"}}}}]},"visible":{"descriptor":"visible","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.visible"}},"showEmptyList":{"descriptor":"showEmptyList","value":true},"requiredIndicator":{"descriptor":"requiredIndicator","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.requiredIndicator"}},"domId":{"descriptor":"domId","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.domId"}}}}}]},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://ui:autocomplete"},"localId":"autocomplete","attributes":{"values":{"inputTitle":{"descriptor":"inputTitle","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_displayedTooltip"}},"dataProvider":{"descriptor":"dataProvider","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.dataProvider"}},"maxlength":{"descriptor":"maxlength","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.maxlength"}},"keydown":{"descriptor":"keydown","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.keydown"}},"showListHeader":{"descriptor":"showListHeader","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_showSearchListItem"}},"matchFunc":{"descriptor":"matchFunc","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.matchFunc"}},"inputChange":{"descriptor":"inputChange","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.inputChange"}},"setDefaultHighlight":{"descriptor":"setDefaultHighlight","value":false},"blur":{"descriptor":"blur","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.inputBlur"}},"ariaDescribedBy":{"descriptor":"ariaDescribedBy","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.ariaDescribedBy"}},"optionVar":{"descriptor":"optionVar","value":"row"},"keypress":{"descriptor":"keypress","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.keypress"}},"placeholder":{"descriptor":"placeholder","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_displayedPlaceholder"}},"required":{"descriptor":"required","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.required"}},"requiredIndicatorClass":{"descriptor":"requiredIndicatorClass","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.requiredIndicatorClass"}},"emptyListContent":{"descriptor":"emptyListContent","value":[{"componentDef":{"descriptor":"markup://aura:html"},"attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"slds-hide"}},"tag":{"descriptor":"tag","value":"div"}}}}]},"selectListOption":{"descriptor":"selectListOption","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.selectListOption"}},"usePanel":{"descriptor":"usePanel","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.usePanel"}},"disabled":{"descriptor":"disabled","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.disabled"}},"click":{"descriptor":"click","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.inputClick"}},"listOption":{"descriptor":"listOption","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.listOption"}},"listHeader":{"descriptor":"listHeader","value":[{"componentDef":{"descriptor":"markup://forceSearch:inputLookupDesktopActionItem"},"attributes":{"values":{"class":{"descriptor":"class","value":"searchButton"},"itemLabel":{"descriptor":"itemLabel","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_searchLabel"}},"titleLabel":{"descriptor":"titleLabel","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_searchLabel"}},"iconAlt":{"descriptor":"iconAlt","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_displayedTooltip"}},"iconKey":{"descriptor":"iconKey","value":"search"}}}}]},"selectOnTab":{"descriptor":"selectOnTab","value":false},"focus":{"descriptor":"focus","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.inputFocus"}},"showListFooter":{"descriptor":"showListFooter","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_showNewButton"}},"listFooter":{"descriptor":"listFooter","value":[{"componentDef":{"descriptor":"markup://forceSearch:inputLookupDesktopActionItem"},"attributes":{"values":{"class":{"descriptor":"class","value":"createNew"},"itemLabel":{"descriptor":"itemLabel","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_labelCreateNew"}},"titleLabel":{"descriptor":"titleLabel","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.priv_labelCreateNew"}},"iconKey":{"descriptor":"iconKey","value":"add"}}}}]},"visible":{"descriptor":"visible","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.visible"}},"showEmptyList":{"descriptor":"showEmptyList","value":true},"requiredIndicator":{"descriptor":"requiredIndicator","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.requiredIndicator"}},"domId":{"descriptor":"domId","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.domId"}}}}}]}}}}]}}}},{"componentDef":{"descriptor":"markup://lightning:icon","type":"module"},"attributes":{"values":{"size":{"descriptor":"size","value":"xx-small"},"class":{"descriptor":"class","value":"inputLookupIcon slds-button_icon-xx-small"},"iconName":{"descriptor":"iconName","value":"utility:search"}}}}]}}}},{"componentDef":{"descriptor":"markup://aura:html"},"localId":"pillContainerWrapper","attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"pillContainerWrapper singlePill slds-hide"}},"tag":{"descriptor":"tag","value":"div"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://ui:pillContainer"},"localId":"pillContainer","attributes":{"values":{"focus":{"descriptor":"focus","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.pillContainerFocus"}},"blur":{"descriptor":"blur","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.pillContainerBlur"}},"allowRemove":{"descriptor":"allowRemove","value":{"exprType":"FUNCTION","code":"function(cmp,fn){return !(cmp.get(\"v.readOnly\"));}","args":[{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.readOnly"}],"byValue":false}},"maxAllowed":{"descriptor":"maxAllowed","value":{"exprType":"FUNCTION","code":"function(cmp,fn){return (cmp.get(\"v.readOnly\")?cmp.get(\"v.values.length\"):cmp.get(\"v.maxValues\"));}","args":[{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.readOnly"},{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.maxValues"},{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.values.length"}],"byValue":false}},"pillInserted":{"descriptor":"pillInserted","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.pillInsertedHandler"}},"showMoreLabel":{"descriptor":"showMoreLabel","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"$Label.Related_Lists.NextMoreGeneric"}},"maxLines":{"descriptor":"maxLines","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"v.maxRows"}},"focusOnInput":{"descriptor":"focusOnInput","value":false},"pillRemoved":{"descriptor":"pillRemoved","value":{"exprType":"PROPERTY","byValue":false,"target":"forceSearch:inputLookupDesktop","path":"c.pillRemovedHandler"}}}}}]}}}}]}}}}]}}}}]}],"cc":"$A.componentService.addComponentClass(\"markup://forceSearch:inputLookupDesktop\",function(){return{meta:{name:\"forceSearch$inputLookupDesktop\",\"extends\":\"markup://ui:input\",imports:{typeAheadLib:\"markup://force:searchTypeAheadLib\",fmLib:\"markup://ui:focusManagerLib\",domLib:\"markup://lightning:domLibrary\",slib:\"markup://forceSearch:searchLibrary\"}},controller:{init:function(a,b,c){c.init(a)},destroy:function(a,b,c){!0===a.get(\"v.priv_hasOpenedPanel\")&&c.decrementPanelCount(a)},handlePanelDestroyed:function(a,\nb,c){c.handlePanelDestroyed(a)},valuesChangeHandler:function(a,b,c){c.valuesChanged(a)},valueChangeHandler:function(a,b,c){b=c.getValuesFromValue(a);JSON.stringify(b)!==JSON.stringify(a.get(\"v.values\"))&&a.set(\"v.values\",b)},setFocus:function(a,b,c){c.setFocus(a,b)},inputIsDirtyChangeHandler:function(a,b,c){b.getParam(\"value\")?(a.set(\"v.priv_valueCopy\",a.get(\"v.value\")),a.set(\"v.value\",\"MALFORMED_ID\")):(a.set(\"v.value\",a.get(\"v.priv_valueCopy\")),a.set(\"v.errors\",[]))},errorsChangeHandler:function(a,\nb,c){if(b=a.get(\"v.errors\")){c=0;for(var d=b.length;c<d;c++)\"MALFORMED_ID\"===b[c].statusCode&&(b[c].message=a.get(\"v.labelInvalidOption\"))}},maxValuesChangeHandler:function(a,b,c){c.updateLookupState(a);c.updateSinglePillStyling(a)},pillInsertedHandler:function(a,b,c){c.pillInserted(a)},pillRemovedHandler:function(a,b,c){c.pillRemoved(a)},inputChange:function(a,b,c){c.slib.logging.logPerf(a,\"lookup-user-experience\",\"START\");(b=b.getParam(\"value\"))?a.set(\"v.priv_inputIsDirty\",!0):a.set(\"v.priv_inputIsDirty\",\n!1);c.setTerm(a,b,!1)},keydown:function(a,b,c){b=b.getParam(\"keyCode\");var d=c.getAutocompleteList(a);d&&c.hasEntities(a)&&(40===b&&!d.get(\"v.visible\")?c.openPopup(a):9===b&&(c.setFocusOnTabOut(d.getElement()),c.hideList(a)))},keypress:function(a,b,c){if(c.hasEntities(a)&&13===b.getParam(\"keyCode\")){var d=c.getInput(a);d&&c.shouldFireEnterPressed(a)&&a.getEvent(\"enterPressed\").setParams({value:d.get(\"v.value\")}).fire();(d=c.getAutocompleteList(a))&&(d.get(\"v.visible\")&&a.get(\"v.dataProviderProvidesIds\"))&&\nc.executeAdvancedSearch(a,b)}},matchFunc:function(a,b,c){c.match(a)},selectListOption:function(a,b,c){if(b.getParam(\"isHeader\"))c.logActionClick(a,c.slib.action.SEARCH_OPTION),c.executeAdvancedSearch(a);else if(b.getParam(\"isFooter\"))c.logActionClick(a,c.slib.action.CREATE_OPTION),c.createNewClicked(a);else{a.set(\"v.priv_inputIsDirty\",!1);b=b.getParam(\"option\");var d=Object.create(null),e=c.getAutocompleteDataProvider(a);if(b){d.qType=b.get(\"v.qType\");d.position=b.get(\"v.visIndex\");d.searchString=\nb.get(\"v.keyword\");var f=b.get(\"v.value\");f&&(d.recordId=f.id,d.recordName=f.label)}e&&(d.queryId=e.get(\"v.queryId\"));c.logItemClick(a,d);a.find(\"pillContainer\").insertItems([b.get(\"v.value\")]);c.notifyListenersOfAdditionalFields(a,b.get(\"v.allFields\"));c.hideList(a)}},inputClick:function(a,b,c){c.inputFocused(a)},inputFocus:function(a,b,c){a.get(\"v.priv_inputHasFocus\")||(c.slib.logging.logPerf(a,\"lookup-user-experience\",\"START\"),$A.get(\"e.ui:getActivePanel\").setParams({callback:function(a){a&&a.set(\"v.autoFocus\",\n!1)}}).fire(),a.set(\"v.priv_inputHasFocus\",!0),c.inputFocused(a))},inputBlur:function(a,b,c){a.get(\"v.priv_inputHasFocus\")&&(a.set(\"v.priv_inputHasFocus\",!1),a.get(\"v.dataProviderProvidesIds\")||(b=(b=a.find(\"autocomplete\"))&&b.getElement().value)&&0!==b.length&&a.set(\"v.value\",b),$A.util.removeClass(a.find(\"contentWrapper\"),\"focused\"),c.updateInvalidSelectionError(a),c.updateCompactLookupState(a))},pillContainerFocus:function(a,b,c){!c.isSingleSelect(a)&&!c.isVisible(a.find(\"inputWrapper\"))&&(a.set(\"v.priv_focusOnInput\",\n!0),a.set(\"v.priv_openPopupOnFocus\",!1));c.updateCompactLookupState(a)},pillContainerBlur:function(a,b,c){c.updateCompactLookupState(a)},entityMenuFocus:function(a,b,c){c.fireBlurEvent(a);c.updateInvalidSelectionError(a);c.updateCompactLookupState(a)},entityMenuBlur:function(a,b,c){c.updateInvalidSelectionError(a);c.updateCompactLookupState(a)},entityMenuCollapse:function(a,b,c){window.requestAnimationFrame($A.getCallback(function(){c.fireFocusEvent(a)}));c.updateInvalidSelectionError(a);c.updateCompactLookupState(a)},\nresize:function(a,b,c){c.updateListWidth(a)},updateInvalidSelectionError:function(a,b,c){c.updateInvalidSelectionError(a)},entitiesAvailable:function(a,b,c){c.setInputState(a,!1)},entitiesUnavailable:function(a,b,c){c.setInputState(a,!0)},entitySelected:function(a,b,c){b=b.getParam(\"entity\");var d=a.get(\"v.priv_currentEntity\");b&&(b.name&&!(d&&d.name===b.name))&&(a.isRendered()?c.updateSelectedEntity(a,b):(a.set(\"v.priv_reloadEntityOnRender\",!0),a.set(\"v.priv_currentEntity\",b),c.setReferenceAttribute(a,\n\"v.selectedSObjectType\",b.name)))},setEntityStateHandler:function(a,b,c){a=a.find(\"entitySelector\");b=b.getParam(\"arguments\");a&&a.setEntityState(b.entities,b.selectedEntityIndex,b.entityMenuItemStates)},appendItems:function(a,b,c){b=b.getParam(\"arguments\");c.appendItems(a,b.items)},recordCreatedHandler:function(a,b,c){b.getParam(\"ownerId\")===a.getGlobalId()&&c.appendItems(a,[{id:b.getParam(\"id\"),Name:b.getParam(\"label\")}])},updateValues:function(a,b,c){if((b=b.getParam(\"arguments\"))&&b.values){c=\na.get(\"v.values\");var d=b.values,e=0;c&&(Array.isArray(c)&&d&&Array.isArray(d))&&(e=d.length-c.length);a.set(\"v.values\",b.values);0<e?a.getEvent(\"valueAdded\").fire():0>e&&a.getEvent(\"valueRemoved\").fire()}},resetInput:function(a,b,c){c.resetForModal(a)}},helper:{init:function(a){var b=a.get(\"v.values\");if(void 0===b||null===b||0===b.length)b=this.getValuesFromValue(a);if(a.get(\"v.dataProviderProvidesIds\")){var c=this;this.resolveRecords(a,b,function(b){c.updateEntityState(a,b);c.setValuesInternal(a,\nb);c.updateSinglePillStyling(a)})}else this.setValuesInternal(a,b),this.updateSinglePillStyling(a);var d=a.get(\"v.initialText\");d&&0===b.length&&this.setTerm(a,d,!0)},getValuesFromValue:function(a){var b=a.get(\"v.value\");return void 0===b||null===b||\"\"===b?[]:a.get(\"v.dataProviderProvidesIds\")?b.split(\",\").map(function(a){return{id:a}}):[{label:b}]},updateEntityState:function(a,b){if(!(1<a.get(\"v.maxValues\"))){var c=b&&1===b.length?b[0].type:null,d=a.get(\"v.entities\");if(d&&c&&c!==a.get(\"v.priv_currentEntity\").name)for(var e=\n0;e<d.length;e++)if(c===d[e].name){a.setEntityState(null,e,null);break}}},setFocus:function(a){$A.util.isEmpty(a.get(\"v.value\"))?a.set(\"v.priv_focusOnInput\",!0):a.set(\"v.priv_focusOnPillContainer\",!0);this.updateFocus(a)},showEntitySelectorIfAppropriate:function(a){var b=!1;this.isMultiEntity(a)&&(b=!(this.isSingleSelect(a)&&1===a.get(\"v.values\").length));a.set(\"v.priv_showEntitySelector\",b);this.updateEntityMenuWidth(a);var c=this.getAutocomplete(a);c&&(a=b?a.find(\"entitySelector\"):null,c.set(\"v.listReferenceComponent\",\na));return b},updateEntityMenuWidth:function(a){var b=a.getElement();if(b&&(a=a.find(\"actionMenu\"))&&a.getElement())b=b.offsetWidth,a.getElement().style.maxWidth=b-10+\"px\"},pillInserted:function(a){this.logPillAction(a,\"INSERT\");a.get(\"v.clearInputOnPillAdd\")&&this.setTerm(a,\"\",!0);this.updateValueAttributes(a);this.showEntitySelectorIfAppropriate(a);this.updateLookupState(a);this.hasMaxPills(a)&&a.set(\"v.priv_focusOnPillContainer\",!0);(a=a.getEvent(\"valueAdded\"))&&a.fire()},pillRemoved:function(a){this.logPillAction(a,\n\"REMOVE\");this.updateValueAttributes(a);this.showEntitySelectorIfAppropriate(a);this.updateLookupState(a);this.hasPills(a)||a.set(\"v.priv_focusOnInput\",!0);a.getEvent(\"valueRemoved\").fire();this.hideList(a)},updateLookupState:function(a){this.setInputState(a);var b=this.hasPills(a);this.isSingleSelect(a)&&this.setInputWrapperVisibility(a,!b);this.setVisibility(a.find(\"pillContainerWrapper\"),b);this.updateCompactLookupState(a)},setInputState:function(a,b){var c;c=this.isSingleSelect(a)?!1:this.hasMaxPills(a);\nb=b||c;if(a.get(\"v.priv_isInputDisabled\")!==b){c=this.getInput(a);var d=a.find(\"inputWrapper\");if(c&&d){if(this.isMultiEntity(a)){var e=a.find(\"entitySelector\");e&&e.set(\"v.disabled\",b)}c.set(\"v.disabled\",b);b?$A.util.addClass(d,\"disabled\"):$A.util.removeClass(d,\"disabled\");a.set(\"v.priv_isInputDisabled\",b)}}},updateInvalidSelectionError:function(a){var b=this;window.setTimeout($A.getCallback(function(){b._updateInvalidSelectionError(a)}),200)},_updateInvalidSelectionError:function(a){a&&(a.get(\"v.displayErrorOnBlur\")&&\na.get(\"v.priv_inputIsDirty\"))&&(!a.get(\"v.allowOtherOption\")&&!this.doesLookupHaveFocus(a)?a.set(\"v.errors\",[{message:a.get(\"v.labelInvalidOption\")}]):(a.get(\"v.enableAdvancedSearch\")||a.get(\"v.priv_createNewEvent\"))&&a.set(\"v.errors\",[]))},valuesChanged:function(a){if(a.get(\"v.priv_resolveValuesOnChange\")&&a.get(\"v.dataProviderProvidesIds\")){var b=a.get(\"v.entities\")||[],c=a.get(\"v.values\")||[];1===b.length&&1===c.length&&a.set(\"v.selectedLabel\",(c[0]||{}).label||\"\");var d=this;this.resolveRecords(a,\nc,function(b){d.setValuesInternal(a,b)})}},isMultiEntity:function(a){return 1<a.get(\"v.entities\").length},hasMaxPills:function(a){return a.get(\"v.values\").length>=a.get(\"v.maxValues\")},isMultiSelect:function(a){return 1<a.get(\"v.maxValues\")},isSingleSelect:function(a){return!this.isMultiSelect(a)},hasEntities:function(a){return(a=a.get(\"v.entities\"))&&0<a.length},hasPills:function(a){return(a=a.get(\"v.values\"))&&0<a.length},isResolvedRecord:function(a){return a&&void 0!==a.icon&&a.type&&!a.type.match(\"__x$\")&&\na.label},setValuesInternal:function(a,b){if(void 0===b||null===b)b=[];a.set(\"v.priv_resolveValuesOnChange\",!1);a.set(\"v.values\",b);if(0<b.length){var c=a.get(\"v.priv_previousSelections\")||[],c=b.map(function(a){return{id:a.id,type:a.type,label:a.label}});a.set(\"v.priv_previousSelections\",c)}a.set(\"v.priv_resolveValuesOnChange\",!0);this.updateValueAttributes(a);this.updateLookupState(a);(c=a.find(\"pillContainer\"))&&c.set(\"v.items\",b)},updateValueAttributes:function(a){for(var b=a.get(\"v.values\")||\n[],c=a.get(\"v.priv_currentEntity\")||{},d=0===b.length?\"\":b[0].label,c=c.name||\"\",e=0;e<b.length;e++)b[e].icon&&b[e].icon.alt&&(b[e].icon.alt=\"\");a.get(\"v.dataProviderProvidesIds\")?a.set(\"v.value\",b.map(function(a){return a.externalId||a.id}).join(\",\")):a.set(\"v.value\",b.map(function(a){return a.label}).join(\",\"));this.setReferenceAttribute(a,\"v.selectedSObjectType\",c);this.setReferenceAttribute(a,\"v.selectedLabel\",d)},resolveRecords:function(a,b,c){var d=this,e=a.get(\"v.entities\")||[];if(1===e.length&&\n1===b.length&&b[0]){var e=e[0]||{},f=b[0];f.icon={url:e.icon,backgroundColor:e.color,alt:e.label};var g=a.get(\"v.priv_previousSelections\");if(Array.isArray(g))for(var h=0;h<g.length;h++)if(g[h].id===b[0].id){f.type=g[h].type;f.label=g[h].label;break}d.isResolvedRecord(f)||(f.type=e.name,f.label=(f||{}).Name||a.get(\"v.selectedLabel\"))}e=b.filter(function(a){return!d.isResolvedRecord(a)&&void 0===a.error});if(0===b.length||0===e.length)c&&c.call(this,b);else{var k=a.get(\"v.priv_resolveId\")+1;a.set(\"v.priv_resolveId\",\nk);var f=a.get(\"c.getRecordInfo\"),m=[],m=e.map(function(a){return a.id}),g=[],g=e.map(function(a){return a.type});f.setParams({recordIds:m,entityApiNames:g});f.setCallback(this,function(e){if(\"SUCCESS\"===e.getState()&&a.get(\"v.priv_resolveId\")===k){e=e.getReturnValue();for(var f=a.get(\"v.priv_noAccessLabel\"),g=[],h=0;h<b.length;++h){var n=b[h],l=e[n.id];l&&l.error?(n.error=l.error,n.label=f):l&&(n.icon={url:l.iconUrl,backgroundColor:l.iconColor,alt:l.iconLabel},n.type=l.type,n.label=l.name,void 0!==\nl.externalId&&(n.externalId=l.externalId));(l||-1===m.indexOf(n.id))&&g.push(n)}c&&c.call(d,g)}});f.setStorable({executeCallbackIfUpdated:!1});f.setAbortable(!1);$A.enqueueAction(f)}},updateSelectedEntity:function(a,b){a.set(\"v.entityIsDirty\",!0);this.setCurrentSObjectType(a,b);this.updateSearchItem(a);this.updateInvalidSelectionError(a);this.doesInputHaveFocus(a)&&(this.hideList(a),this.setFocus(a))},setCurrentSObjectType:function(a,b){if(b&&b.name){this.setCurrentEntity(a,b);var c=this.getAutocompleteDataProvider(a);\nnull!==c&&c.set(\"v.entityType\",b.name);this.clearNewButton(a);a.getEvent(\"entityChanged\").fire()}},fetchData:function(a,b){this.getAutocomplete(a).getEvent(\"fetchData\").setParams({parameters:{keyword:b}}).fire()},setCurrentEntity:function(a,b){var c=a.get(\"v.record\"),d=a.get(\"v.relationshipName\");a.set(\"v.priv_currentEntity\",b);c&&(c[d]&&c[d].sobjectType&&c[d].sobjectType!==b.name)&&(c[d]=void 0);this.setReferenceAttribute(a,\"v.selectedSObjectType\",b.name);this.updateLabels(a)},updateLabels:function(a){var b=\na.get(\"v.placeholder\");if(void 0!==b&&null!==b)a.set(\"v.priv_displayedPlaceholder\",b),a.set(\"v.priv_displayedTooltip\",b);else{var b=$A.get(\"$Label.LightningSearchUI.SingleEntityLookupPlaceholder\"),c=$A.get(\"$Label.LightningSearchUI.SingleEntityLookupTooltip\"),d=this.getEntityPluralLabel(a),b=b.replace(/<entit(y|ies)>/i,d),c=c.replace(/<entit(y|ies)>/i,d);a.set(\"v.priv_displayedPlaceholder\",b);a.set(\"v.priv_displayedTooltip\",c)}},match:function(a){var b=this.getAutocompleteList(a),c=b?b.get(\"v.items\"):\nnull;if(!(null===c||0===c.length)){var d=b.get(\"v.keyword\")||\"\";if(0===d.trim().length){var e=this.getInput(a);null!==e&&void 0!==e&&(d=e.get(\"v.value\")||\"\")}0===d.trim().length?this.showDefaultOptions(a,b,c):this.showMatchingOptions(a,b,c,d)}},showDefaultOptions:function(a,b,c){if(b=this.getAutocompleteList(a)){var d=a.get(\"v.maxOptions\"),e=0,f=0;this.tagSelectedItems(a.get(\"v.values\"),c);for(var g=0,h=c.length;g<h;g++){var k=c[g];e<d&&!k.isSelectedValue?(k.visible=!0,k.visIndex=e++,f++):(k.visible=\n!1,k.visIndex=-1);k.keyword=\"\";k.absIndex=g}a.set(\"v.priv_visibleMRUCount\",f);a.set(\"v.priv_visibleTypeaheadCount\",0);b.set(\"v.items\",c)}},showMatchingOptions:function(a,b,c,d){try{var e=a.get(\"v.maxOptions\"),f=a.get(\"v.matchOnContains\"),g=0,h=0,k=0,m=d.trim().toLowerCase().split(/\\s+/),q=0;this.tagSelectedItems(a.get(\"v.values\"),c);var r=null,p=a.get(\"v.matchOptionFunc\");if(Array.isArray(p)&&0<p.length){var s=p[0];s&&s.isInstanceOf(\"forceSearch:inputLookupDesktopMatchProvider\")&&(r=s.match)}for(var p=\n0,n=c.length;p<n;p++){var l=c[p],t=this.isMatch(l,m,f,r);l.visible=t&&!l.isSelectedValue&&g++<e;l.keyword=d;l.absIndex=p;if(l.visible)switch(l.visIndex=q++,l.qType){case \"MRU\":h++;break;case \"Typeahead\":k++}else l.visIndex=-1}a.set(\"v.priv_visibleMRUCount\",h);a.set(\"v.priv_visibleTypeaheadCount\",k)}catch(u){this.showDefaultOptions(a,b,c)}},isMatch:function(a,b,c,d){var e,f=a.label,g=a.secondLabel;null!==d?(a=$A.getCallback(function(a){e=a}),d(f,g,b,a)):e=\"Typeahead\"===a.qType?!0:this.typeAheadLib.util.getMatches(f+\n(g?\" \"+g:\"\"),b,c,!0).AllMatch;return e},tagSelectedItems:function(a,b){if(Array.isArray(a)&&Array.isArray(b))for(var c=0;c<b.length;c++){var d=b[c],e=d.value;e&&e.id&&(e=e.id);for(var f=!1,g=0;g<a.length;g++){var h=a[g];h&&h.id&&(h=h.id);if(h===e){f=!0;break}}d.isSelectedValue=f}},fireMatchText:function(a,b){var c=this.getAutocomplete(a);if(c&&(c=c.get(\"e.matchText\"))){if(!b){var d=this.getInput(a);if(!d)return;b=d.get(\"v.value\")}c.setParams({keyword:b}).fire()}},getLogContext:function(a,b,c){var d=\nc.get(\"v.value\");return{injectPageUsageInfo:!0,data:{type:(a.get(\"v.priv_currentEntity\")||{}).name,typeIndex:a.get(\"v.selectedEntityIndex\"),option:d?d.id:\"\",optionVisIndex:c.get(\"v.visIndex\"),optionAbsIndex:c.get(\"v.absIndex\"),qType:c.get(\"v.qType\")},usageInfo:{sAction:\"ClickAction\",target:\"forceSearch:lookup\",target2:b,actionLocation:a.get(\"v.loggingActionLocation\"),location:a.get(\"v.loggingLocation\"),gusTeamId:\"a00B0000000wkIfIAI\"}}},updateListWidth:function(a){var b=this.getAutocompleteList(a),\nc=a.find(\"contentWrapper\"),d=a.find(\"autocompleteWrapper\");a=a.find(\"entitySelector\");if(b&&c&&d&&a)try{var e=b.getElement(),f=c.getElement(),g=d.getElement(),h=a.getElement();if(!(null===e||null===f||null===g)){e.style.width=f.clientWidth+\"px\";var k=null!==h&&!h.classList.contains(\"slds-hide\"),m=f.clientWidth>g.clientWidth;k&&m&&b.helper.positionList(b)}}catch(q){}},getAutocomplete:function(a){try{return a.find(\"autocomplete\")}catch(b){return null}},getAutocompleteDataProvider:function(a){try{return this.getAutocomplete(a).get(\"v.dataProvider\")[0]}catch(b){return null}},\ngetInput:function(a){try{return this.getAutocomplete(a).find(\"input\")}catch(b){return null}},getAutocompleteList:function(a){try{return this.getAutocomplete(a).find(\"list\")}catch(b){return null}},hideList:function(a){(a=this.getAutocompleteList(a))&&a.set(\"v.visible\",!1)},showList:function(a){var b=this.getAutocompleteList(a);b&&a.get(\"v.values\").length<a.get(\"v.maxValues\")&&b.set(\"v.visible\",!0)},setVisibility:function(a,b){a&&(b?$A.util.removeClass(a,\"slds-hide\"):$A.util.addClass(a,\"slds-hide\"))},\nsetInputWrapperVisibility:function(a,b){this.setVisibility(a.find(\"inputWrapper\"),b);var c=a.find(\"pillContainerWrapper\");b?$A.util.removeClass(c,\"noSeparator\"):$A.util.addClass(c,\"noSeparator\")},isEntitySelectorOpen:function(a){try{return a.find(\"entitySelector\").find(\"actionMenu\").get(\"v.visible\")}catch(b){return!1}},isVisible:function(a){return a&&!$A.util.hasClass(a,\"slds-hide\")},updateCompactLookupState:function(a){var b=this;if(!b.isSingleSelect(a)){var c=!b.doesLookupHaveFocus(a)&&b.hasPills(a)&&\n!b.isEntitySelectorOpen(a),d=a.get(\"v.priv_inputBlurTimeoutId\");null!==d&&void 0!==d&&(window.clearTimeout(d),a.set(\"v.priv_inputBlurTimeoutId\",null));c?(d=window.setTimeout($A.getCallback(function(){if(!b.doesLookupHaveFocus(a)){b.setInputWrapperVisibility(a,!1);var c=a.find(\"pillContainer\");c&&c.collapse(c)}}),350),a.set(\"v.priv_inputBlurTimeoutId\",d)):this.setInputWrapperVisibility(a,!0)}},doesLookupHaveFocus:function(a){try{var b=window.document.activeElement,c=a.getElement();return c===b||c.contains(b)}catch(d){return!1}},\ndoesInputHaveFocus:function(a){a=this.getInput(a);if(!a)return!1;a=a.getElement();if(!a)return!1;try{return a===window.document.activeElement}catch(b){return!1}},notifyListenersOfAdditionalFields:function(a,b){var c=this.getAutocompleteDataProvider(a);if(!(null===c||!b||this.isRunningAdvancedSearch(a))){var d=c.get(\"v.additionalFields\");if(d){for(var c={},e=0,f=0,g=d.length;f<g;f++){var h=d[f].targetField,k=b[d[f].sourceField];void 0!==k&&(e++,c[h]={value:k,isOverridable:d[f].isOverridable})}0!==\ne&&(d=$A.get(\"e.force:inputLookupAdditionalFieldsUpdate\"),d.setParams({newAdditionalFields:c,parentId:a.getGlobalId()}),d.fire())}}},isRunningAdvancedSearch:function(a){a=a.get(\"v.inContextOfComponent\");return\"forceSearch:lookupAdvanced\"===a||\"force:multiAdd\"===a},executeAdvancedSearch:function(a){if(a.get(\"v.enableAdvancedSearch\")){this.hideList(a);var b=this.getInput(a),c=b?b.get(\"v.value\"):null;if(this.typeAheadLib.util.isValidSearchString(c)){var d=a.get(\"v.priv_currentEntity\"),e={name:d.name,\nlabel:d.label,labelPlural:d.label};if(this.isRunningAdvancedSearch(a))a.getEvent(\"searchRefresh\").setParams({parameters:{term:c,scopeMap:e}}).fire();else{var f=this,b=$A.get(\"$Label.LightningSearchUI.ScopedResults\"),g=a.get(\"v.priv_currentEntity\")||{},b=b.replace(\"{0}\",g.label||a.get(\"v.label\"));$A.get(\"e.ui:createPanel\").setParams({panelType:\"modal\",visible:!0,panelConfig:{title:b,isTransient:!0,isScrollable:!1,owner:a.getGlobalId(),isFullScreen:!0,flavor:\"large\",autoFocus:!1},onCreate:function(b){var g,\nm=f.getAutocompleteDataProvider(a);if(m&&(m=m.get(\"v.additionalFields\"))){g=[];for(var q=0;q<m.length;++q){var r=m[q];void 0!==r.sourceField&&g.push(r.sourceField)}}$A.createComponent(\"forceSearch:lookupAdvanced\",{entities:[d],term:c,scopeMap:e,scopeSets:{DEFAULT:[e]},placeholder:a.get(\"v.placeholder\"),source:a.get(\"v.source\"),field:a.get(\"v.field\"),recordId:a.get(\"v.recordId\"),contextId:a.get(\"v.contextId\"),maxValues:a.get(\"v.maxValues\")-a.get(\"v.values\").length,label:a.get(\"v.label\"),additionalFields:g,\ndependentFieldBindings:a.get(\"v.dependentFieldBindings\"),allowFallbackQueryWithNoContext:a.get(\"v.allowFallbackQueryWithNoContext\"),additionalContext:a.get(\"v.additionalContext\"),saveCallback:$A.getCallback(function(b){f.appendItems(a,b)}),groupId:\"LOOKUP\"},function(c){c&&(window.setTimeout($A.getCallback(function(){f.resetForModal(a)}),0),$A.createComponent(\"forceSearch:lookupAdvancedFooter\",{\"aura:id\":\"lookupAdvancedFooter\"},function(d){d&&(f.fireBlurEvent(a),b.set(\"v.footer\",d),c.set(\"v.panel\",\nb),b.update({body:c}))}))})},onDestroy:function(){setTimeout(function(){f.setFocus(a)},0)}}).fire()}}}},appendItems:function(a,b,c){b=b||[];var d;b.length&&(d=b[0],this.setReferenceAttribute(a,\"v.value\",d.id),this.setReferenceAttribute(a,\"v.selectedLabel\",d.label));this.fireFocusEvent(a);var e=(a.get(\"v.values\")||[]).slice(),f=a.get(\"v.maxValues\"),g=this;if(e.length>=f)c&&c();else{var h={},k,m=[];for(k=0;k<e.length;++k)h[e[k].id]=!0;for(k=0;k<b.length&&!(d=b[k],!h[d.id]&&(m.push(d),m.length+e.length>=\nf));++k);this.resolveRecords(a,m,function(b){var d=a.get(\"v.priv_currentEntity\");if(d){for(var d=d.name,f=!1,h,k=0;k<b.length;++k){var l=b[k];l.type===d&&(f||(f=!0,h=l),e.push(l))}f&&(a.set(\"v.priv_inputIsDirty\",!1),this.setValuesInternal(a,e),this.setTerm(a,\"\",!0),a.getEvent(\"valueAdded\").fire(),g.notifyListenersOfAdditionalFields(a,h.allFields));c&&c()}})}},focusOnInput:function(a){var b=this.getInput(a);b&&(b.focus(),this.inputFocused(a))},updateSearchItem:function(a){var b=this.getAutocomplete(a),\nc=this.getAutocompleteList(a),d=this.getSearchItemLabel(a);this.clearListHighlight(a);d?(a.set(\"v.priv_searchLabel\",d),a.get(\"v.enableAdvancedSearch\")&&(a.set(\"v.priv_showSearchListItem\",!0),b&&c&&(a=c.get(\"e.listHighlight\"))&&a.setParams({activeIndex:0}).fire())):a.set(\"v.priv_showSearchListItem\",!1)},clearListHighlight:function(a){if(a=this.getAutocompleteList(a)){var b;if(b=a.find(\"iter\"))b=b.get(\"v.body\")||[],b.forEach(function(a){a.set(\"v.highlighted\",!1)});a.set(\"v.headerSelected\",!1);(b=a.get(\"v.listHeader\"))&&\n$A.util.removeClass(b[0],\"highlighted\");a.set(\"v.footerSelected\",!1);(a=a.get(\"v.listFooter\"))&&$A.util.removeClass(a[0],\"highlighted\")}},getSearchItemLabel:function(a){var b,c=this.getInput(a),c=c?c.get(\"v.value\"):null;this.typeAheadLib.util.isValidSearchString(c)&&(b=$A.get(\"$Label.LightningSearchUI.MRUSearchForInObject\").replace(\"{0}\",c).replace(\"{1}\",this.getEntityPluralLabel(a)));return b},getEntityPluralLabel:function(a){a=a.get(\"v.priv_currentEntity\")||{};return a.labelPlural||a.label||\"\"},\nsetTerm:function(a,b,c){if(null===b||void 0===b)b=\"\";if(null===c||void 0===c)c=!1;var d=this.getInput(a),e=this.getAutocompleteDataProvider(a);if(d&&e&&(d.set(\"v.value\",b),e.set(\"v.queryTerm\",b),(d=this.getAutocompleteList(a))&&d.set(\"v.keyword\",b),this.updateSearchItem(a),this.fetchData(a,b),this.fireMatchText(a,b),c)){var f=this;window.setTimeout($A.getCallback(function(){f.hideList(a)}),0)}},resetForModal:function(a){var b=this.getInput(a);if(b){var c=b.get(\"v.value\");if(!$A.util.isEmpty(c)&&(this.setTerm(a,\n\"\",!0),(b=b.find(\"txt\"))&&b.getElement()))b.getElement().value=\"\"}a.set(\"v.priv_inputIsDirty\",!1);a.set(\"v.errors\",[])},shouldDisplayNewButton:function(a){return a.get(\"v.enableCreateNew\")},updateSinglePillStyling:function(a){this.isSingleSelect(a)?$A.util.addClass(a.find(\"pillContainerWrapper\"),\"singlePill\"):$A.util.removeClass(a.find(\"pillContainerWrapper\"),\"singlePill\")},updateFocus:function(a){a.get(\"v.priv_focusOnInput\")&&(a.set(\"v.priv_focusOnInput\",!1),this.focusOnInput(a));a.get(\"v.priv_focusOnPillContainer\")&&\n(a.set(\"v.priv_focusOnPillContainer\",!1),(a=a.find(\"pillContainer\"))&&a.focus())},inputFocused:function(a){this.updateSearchItem(a);$A.util.hasClass(a.find(\"contentWrapper\"),\"focused\")||($A.util.addClass(a.find(\"contentWrapper\"),\"focused\"),a.get(\"v.readOnly\")||(a.get(\"v.priv_openPopupOnFocus\")&&(this.openPopup(a),this.slib.logging.log(a,this.slib.interaction.SYNTHETIC_CLICK,\"search-input-lookup-desktop\",\"search-input\",{scopeName:a.get(\"v.priv_currentEntity\").name})),a.set(\"v.priv_openPopupOnFocus\",\n!0),this.updateInvalidSelectionError(a)))},openPopup:function(a){this.hasEntities(a)&&this.shouldDisplayNewButton(a)&&(this.fetchCreateFromLookupAction(a),this.setCreateNewLabel(a));var b=this.populateDependentFieldBindings(a);a.get(\"v.entityIsDirty\")?(a.set(\"v.entityIsDirty\",!1),this.fetchData(a)):b?this.fetchData(a):(this.match(a),this.showList(a))},setCreateNewLabel:function(a){var b=a.get(\"v.labelCreateNew\")||\"\";if(!b)var b=$A.get(\"$Label.LightningLookup.createNewObject\")||\"\",c=a.get(\"v.priv_currentEntity.label\")||\n\"\",b=b.replace(/\\{0\\}/i,c);a.set(\"v.priv_labelCreateNew\",b)},populateDependentFieldBindings:function(a){var b=a.get(\"v.record\")||{},c=a.get(\"v.dependentFields\")||[],d=a.get(\"v.dependentFieldBindings\")||{},e=!1;if(this.isRunningAdvancedSearch(a))return!1;c.forEach(function(a){var c=b[a],h=d[a];$A.util.isUndefinedOrNull(c)&&void 0!==h?(delete d[a],e=!0):h!==c&&null!==c&&(d[a]=c,e=!0)});e&&a.set(\"v.dependentFieldBindings\",d);return e},setFocusOnTabOut:function(a){if(!(void 0===a||null===a)){var b=this.fmLib.focusUtil.getTabbableChildren(a);\nif(b&&window&&window.document){var c=window.document.activeElement;if(c)for(var d=0,e=b.length;d<e;d++)if(c===b[d]){this.fmLib.focusUtil.focusNextTabbable(a,!0);break}}}},fetchCreateFromLookupAction:function(a){var b=a.get(\"c.createFromLookup\"),c=a.get(\"v.priv_currentEntity\").name,d=a.getGlobalId(),e=this;!$A.util.isUndefinedOrNull(c)&&!$A.util.isUndefinedOrNull(d)&&(b.setParams({entityApiName:c,globalId:d}),b.setCallback(a,function(b){var c=b.getState();\"SUCCESS\"===c?(b=b.getReturnValue().createFromLookupAction)?\n(c=b.executionComponent,b=$A.get(\"e.\"+c.descriptor),c=c.attributes,c.defaultFieldValues=a.get(\"v.defaultFieldValues\"),c.panelOnDestroyCallback=$A.getCallback(e.handlePanelDestroyed.bind(e,a)),b.setParams(c),e.setNewButton(a,b)):e.clearNewButton(a):(\"INCOMPLETE\"===c||\"ERROR\"===c)&&e.clearNewButton(a)}),b.setStorable(),$A.enqueueAction(b))},createNewClicked:function(a){var b=a.get(\"v.priv_createNewEvent\");b&&(this.fireBlurEvent(a),b.fire(),this.resetCreateNewEvent(a),this.hideList(a));this.resetForModal(a)},\nresetCreateNewEvent:function(a){this.clearNewButton(a);this.fetchCreateFromLookupAction(a)},clearNewButton:function(a){a.set(\"v.priv_showNewButton\",!1);a.set(\"v.priv_createNewEvent\",null)},setNewButton:function(a,b){a.set(\"v.priv_createNewEvent\",b);this.showNewButton(a)},showNewButton:function(a){a.set(\"v.priv_showNewButton\",this.shouldDisplayNewButton(a))},handlePanelDestroyed:function(a){this.fireFocusEvent(a);this.setFocus(a);this.showNewButton(a)},updateWhenReady:function(a){var b=this;window.requestAnimationFrame($A.getCallback(function(){b.updateListWidth(a);\nb.updateFocus(a)}))},logItemClick:function(a,b){var c,d;c={recordId:b.recordId,position:b.position,searchString:b.searchString,qType:b.qType,searchArea:\"forceSearch:inputLookupDesktopOption:scoped\",mruVisibleCount:a.get(\"v.priv_visibleMRUCount\"),typeAheadVisibleCount:a.get(\"v.priv_visibleTypeaheadCount\")};switch(b.qType){case \"MRU\":d=\"semac\";break;case \"Typeahead\":d=\"seasc\",c.queryId=b.queryId}this.slib.logging.log(a,this.slib.interaction.SYNTHETIC_CLICK,\"search-input-lookup-desktop\",\"search-mru-item\",\nc,d)},logActionClick:function(a,b){var c=this.getInput(a),c=c?c.get(\"v.value\"):null;this.slib.logging.log(a,this.slib.interaction.SYNTHETIC_CLICK,\"search-input-lookup-desktop\",\"search-mru-action-item\",{method:\"click\",term:c,scopeName:a.get(\"v.priv_currentEntity\").name,type:b})},logPillAction:function(a,b){if(!$A.util.isEmpty(b)){var c=this.getInput(a),c=c?c.get(\"v.value\"):null,d;switch(b){case \"INSERT\":d=this.slib.interaction.SYNTHETIC_PILL_ADD;break;case \"REMOVE\":d=this.slib.interaction.SYNTHETIC_PILL_REMOVE}this.slib.logging.log(a,\nd,\"search-input-lookup-desktop\",\"search-record-pill-item\",{term:c,scopeName:a.get(\"v.priv_currentEntity\").name})}},fireBlurEvent:function(a){var b=a.get(\"e.blur\");b&&(b.fire(),a.set(\"v.priv_isBlurred\",!0))},fireFocusEvent:function(a){if(a){var b=a.get(\"e.focus\");b&&a.get(\"v.priv_isBlurred\")&&(b.fire(),a.set(\"v.priv_isBlurred\",!1))}},shouldFireEnterPressed:function(a){var b=this.getAutocompleteList(a),c=\"force:listViewManager\"===a.get(\"v.inContextOfComponent\");a=\"force:multiAdd\"===a.get(\"v.inContextOfComponent\");\nb=b&&(b.get(\"v.footerSelected\")||b.get(\"v.headerSelected\"));return a?!1:!(c&&b)},setReferenceAttribute:function(a,b,c){if(a&&b){var d=a.get(\"v.record\"),e=a.get(\"v.relationshipName\");d&&null===d[e]&&(d[e]=void 0);a.set(b,c)}}},renderer:{afterRender:function(a,b){a.superAfterRender();a.get(\"v.priv_reloadEntityOnRender\")&&(a.set(\"v.priv_reloadEntityOnRender\",!1),b.updateSelectedEntity(a,a.get(\"v.priv_currentEntity\")));b.showEntitySelectorIfAppropriate(a);b.updateWhenReady(a);var c=b.getInput(a);null!==\nc&&void 0!==c&&(c=c.getElement(),void 0!==c&&null!==c&&(c.setAttribute(\"spellcheck\",\"false\"),c.setAttribute(\"autocomplete\",\"off\"),c.setAttribute(\"autocorrect\",\"off\")))},rerender:function(a,b){a.superRerender();b.showEntitySelectorIfAppropriate(a);b.updateWhenReady(a)}}}});","uuid":null}"createdN @æOˆŒwB"expiresN @x+˜ŒwB"valueEncodedF{"sizeI¥¸"expiresN @x+˜ŒwB{